{"version":3,"sources":["services/people.js","components/Entry.js","components/FilterPhones.js","components/PersonForm.js","components/Title.js","components/ShowPhones.js","components/ErrorNotification.js","components/successNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newObj","post","id","put","delete","Entry","person","setDisplayPeople","setPersons","displayPeople","setErrorMsg","name","number","onClick","r","window","confirm","console","log","peopleService","filter","p","catch","e","setTimeout","FilterPhones","filterName","persons","setfilterName","value","onChange","target","toLowerCase","newArr","includes","push","length","PersonForm","newName","newNumber","setNewName","setNewNumber","setSuccess","checkName","arr","find","entry","onSubmit","preventDefault","objName","newList","map","alert","concat","type","Title","text","ShowPhones","ErrorNotification","msg","className","SuccessNotification","App","useState","errorMsg","success","useEffect","peopleServce","people","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f4b11312.chunk.js","sourcesContent":["import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst create = newObj => {\r\n    const req = axios.post(baseUrl, newObj)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, newObj)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove}","import React from 'react'\r\nimport peopleService from '../services/people'\r\n\r\nconst Entry = ({person, setPersons, setDisplayPeople, displayPeople, setErrorMsg}) => {\r\n    const onclick = () => {\r\n        const r = window.confirm(\"delete?\")\r\n        console.log(person);\r\n        if(r){\r\n            peopleService\r\n                .remove(person.id)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    setDisplayPeople(\r\n                        displayPeople.filter(p => p.id !== person.id)\r\n                    )\r\n                })\r\n                .catch( e => {\r\n                    setErrorMsg('already removed!')\r\n                    setTimeout(() => {\r\n                        setErrorMsg(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n    return(\r\n        <div>\r\n            {person.name} {person.number} <button onClick={onclick}>delete</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Entry","import React from 'react'\r\n\r\nconst FilterPhones = ({filterName, persons, setfilterName, setDisplayPeople}) => {\r\n    const handleFilterName = (e) => {\r\n        const name = e.target.value.toLowerCase()\r\n        setfilterName(name)\r\n        let newArr = []\r\n        for(let person of persons) {\r\n            if(person.name.toLowerCase().includes(name)){\r\n              // console.log('name ', name);\r\n              // console.log('person name ', person.name);\r\n              // console.log('includes!');\r\n              newArr.push(person)\r\n            }\r\n        }\r\n        console.log('new people is', newArr);\r\n        newArr.length >= 1\r\n        ? setDisplayPeople(newArr)\r\n        : setDisplayPeople(persons)\r\n    \r\n      }\r\n    return(\r\n        <div>\r\n            <input value={filterName}\r\n            onChange={handleFilterName}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterPhones","import React from 'react'\r\nimport peopleService from '../services/people'\r\n\r\nconst PersonForm = ({newName, newNumber, setNewName, setNewNumber, persons, setPersons, setDisplayPeople\r\n, setSuccess}) => {\r\n\r\n    const checkName = (name, arr) => {\r\n        return arr.find(entry => entry.name.toLowerCase() === name.toLowerCase())\r\n      }\r\n    \r\n      const handleNameChange = (e) => {\r\n        console.log('changin name', e.target.value)\r\n        setNewName(e.target.value)\r\n      }\r\n    \r\n      const handleNumberChange = (e) => setNewNumber(e.target.value)\r\n    \r\n      const addEntry = (e) => {\r\n          e.preventDefault()\r\n          console.log('wanna add',newName)\r\n          const objName = {\r\n            name: newName,\r\n            number: newNumber\r\n          }\r\n          // console.log('checkin name', checkName(newName, persons).id);\r\n          if(checkName(newName, persons)) {\r\n            const r = window.confirm('update number?')\r\n            if(r){\r\n              const id = checkName(newName, persons).id\r\n              peopleService\r\n                .update(id, objName)\r\n                .then( res => {\r\n                  const newList = persons.map( person => person.id !== id? person: res)\r\n                  setPersons(newList)\r\n                  setDisplayPeople(newList)\r\n                })\r\n            } else{\r\n              alert('cant add same name')\r\n            }\r\n\r\n          } else{\r\n            // setPersons(persons.concat(objName))\r\n            // setDisplayPeople(persons.concat(objName))\r\n            peopleService\r\n              .create(objName)\r\n              .then( res => {\r\n                console.log('added', res);\r\n                setPersons(persons.concat(res))\r\n                setDisplayPeople(persons.concat(res))\r\n                setSuccess(`added ${res.name}!`)\r\n              })\r\n          }\r\n          setNewName('')\r\n          setNewNumber('')\r\n          \r\n      }\r\n    \r\n    return(\r\n        <div>\r\n        <form onSubmit={addEntry}>\r\n        <h1>add new name</h1>\r\n        <div>\r\n          name: \r\n          <input value={newName}\r\n              onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          phone:\r\n          <input value={newNumber}\r\n            onChange={handleNumberChange}></input>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Title = ({text}) => <div> <h1>{text}</h1></div>\r\n\r\nexport default Title;","import React from 'react'\r\nimport Entry from './Entry'\r\n\r\nconst ShowPhones = ({displayPeople, setPersons\r\n    ,setDisplayPeople, setErrorMsg}) => {\r\n    return(\r\n        <div>\r\n        {displayPeople.map(person => {\r\n          return <Entry person={person}\r\n          setPersons={setPersons}\r\n          setDisplayPeople={setDisplayPeople}\r\n          displayPeople={displayPeople}\r\n          setErrorMsg={setErrorMsg}></Entry>\r\n         })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowPhones","import React from 'react'\r\n\r\nconst ErrorNotification = ({msg}) => {\r\n    if(msg === null){\r\n        return null\r\n    }\r\n    return(\r\n        <div className='error'>\r\n            {msg}\r\n        </div>\r\n    )\r\n}\r\nexport default ErrorNotification","import React from 'react'\r\n\r\nconst SuccessNotification = ({msg, setSuccess}) => {\r\n    if(!msg){\r\n        return null\r\n    }\r\n    setTimeout( () => {\r\n        setSuccess(null)\r\n    }, 5000)\r\n    return(\r\n        <div className='green'>\r\n            {msg}\r\n        </div>\r\n    )\r\n}\r\nexport default SuccessNotification","import React, { useState, useEffect } from 'react'\r\nimport Entry from './components/Entry'\r\nimport FilterPhones from './components/FilterPhones'\r\nimport PersonForm from './components/PersonForm'\r\nimport Title from './components/Title'\r\nimport axios from 'axios'\r\nimport peopleServce from './services/people'\r\nimport ShowPhones from './components/ShowPhones'\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport SuccessNotification from './components/successNotification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterName, setfilterName ] = useState('')\r\n  const [ displayPeople, setDisplayPeople ] = useState(persons)\r\n  const [ errorMsg, setErrorMsg ] = useState(null)\r\n  const [success, setSuccess] = useState('')\r\n\r\n  const hook = () => {\r\n    console.log('inside hook');\r\n    peopleServce\r\n      .getAll()\r\n      .then(people => {\r\n        setPersons(people)\r\n        setDisplayPeople(people)\r\n      })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  return (\r\n    <div>\r\n      <Title text='Phonebook'></Title>\r\n      <ErrorNotification msg={errorMsg} setErrorMsg={setErrorMsg}></ErrorNotification>\r\n      <SuccessNotification msg={success} setSuccess={setSuccess}></SuccessNotification>\r\n      <FilterPhones filterName={filterName} persons={persons} \r\n      setDisplayPeople={setDisplayPeople} setfilterName={setfilterName}></FilterPhones>\r\n\r\n      <PersonForm newName={newName} setNewName={setNewName}\r\n      newNumber={newNumber} setNewNumber={setNewNumber}\r\n      persons = {persons} setPersons={setPersons}\r\n      setDisplayPeople={setDisplayPeople}\r\n      setSuccess={setSuccess}\r\n      ></PersonForm>\r\n\r\n      \r\n      <Title text='Numbers'></Title>\r\n      <ShowPhones displayPeople={displayPeople}\r\n      setPersons={setPersons}\r\n      setDisplayPeople={setDisplayPeople}\r\n      setErrorMsg={setErrorMsg}></ShowPhones>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}